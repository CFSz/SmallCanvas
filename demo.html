<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        body{
            text-align: center;
        }
        canvas{
            background: #BCE8F1;
        }
    </style>
</head>
<body>
    <canvas width="1000" height="1000"></canvas>

    <script src="build/src.js"></script>
    <script>
        (function(){
            /**
             * 默认参数
             * var canvasDom=document.querySelector('canvas');
             * var configOptions={src:'images/error.png',x:0,y:0,width:100,height:100,anchorX:0,anchorY:0,scale:1}
             */
            var sc = smallcanvas.init()//程序入口,接收参数canvasDom
                    , demoDisplayObject = new sc.DisplayObject()//程序入口,接收参数configOptions
            /**
             * 绑定事件,接收type,successHandle,(failHandle)两-三个参数
             */
            demoDisplayObject.addEventListener('click'
                    ,function(){
                        alert(1);
                    }
                    ,function(){
                        alert(2);
                    }
            );
            demoDisplayObject.addEventListener('click'
                    ,function(){
                        alert('a');
                    }
            );

            /**
             * 移除事件,接收type,successHandle,(failHandle)两-三个参数
             */
            demoDisplayObject.removeEventListener('click'
                    ,function(){
                        alert(1);
                    }
                    , function () {
                        alert(2);
                    }
            );

            function heartLine(t) {
                var x, y;
                x = 16 * Math.pow(Math.sin(t), 3) * 10 + 160;
                y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t)) * 10 + 120;
                return {x: x, y: y}
            }

            function circleLine(t) {
                var x, y, mul = 400;
                x = mul * Math.cos(t) + mul;
                y = mul * Math.sin(t) + mul;
                return {x: x, y: y}
            }

            var i = 0;
            var lastTime = 0;
            sc.enterFrameHandle = function () {
//                demoDisplayObject.x++;
//                demoDisplayObject.y++;
                i += 0.05;
                var nowTime = new Date().getTime();
                var minus = nowTime - lastTime;
                if (minus > 18) {
                    console.log(minus);
                }
                lastTime = new Date().getTime();
//                var pos=heartLine(i);
                var pos = circleLine(i);
                demoDisplayObject.x = pos.x;
                demoDisplayObject.y = pos.y;
            }
        })()

    </script>

</body>
</html>